{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["function setDefault() {\n  const local_storage_data = window.localStorage.getItem('feedback-form-state')\n    ? JSON.parse(window.localStorage.getItem('feedback-form-state'))\n    : null;\n\n  const email_input_element = document.querySelector('input[name=\"email\"]');\n  email_input_element.value = local_storage_data\n    ? local_storage_data.email\n    : '';\n\n  const message_input_element = document.querySelector(\n    'textarea[name=\"message\"]'\n  );\n  message_input_element.value = local_storage_data\n    ? local_storage_data.message\n    : '';\n}\n\nfunction formEvents() {\n  const form_element = document.querySelector('.feedback-form');\n\n  form_element.addEventListener('input', event => {\n    if (!['email', 'message'].includes(event.target.name)) {\n      return;\n    }\n\n    const local_storage_data = window.localStorage.getItem(\n      'feedback-form-state'\n    )\n      ? JSON.parse(window.localStorage.getItem('feedback-form-state'))\n      : null;\n    const email_current = local_storage_data ? local_storage_data.email : '';\n    const message_current = local_storage_data\n      ? local_storage_data.message\n      : '';\n\n    window.localStorage.setItem(\n      'feedback-form-state',\n      JSON.stringify({\n        email:\n          event.target.name == 'email'\n            ? event.target.value.trim()\n            : email_current,\n        message:\n          event.target.name == 'message'\n            ? event.target.value.trim()\n            : message_current,\n      })\n    );\n  });\n\n  form_element.addEventListener('submit', event => {\n    event.preventDefault();\n\n    for (let form_data_element of event.target.elements) {\n      if (!['email', 'message'].includes(form_data_element.name)) {\n        continue;\n      }\n\n      if (!form_data_element.value.trim().length > 0) {\n        alert('All form fields must be filled in');\n        return;\n      }\n    }\n\n    console.log(JSON.parse(window.localStorage.getItem('feedback-form-state')));\n    window.localStorage.clear();\n    event.target.reset();\n  });\n}\n\nsetDefault();\nformEvents();\n"],"names":["setDefault","local_storage_data","email_input_element","message_input_element","formEvents","form_element","event","email_current","message_current","form_data_element"],"mappings":"wFAAA,SAASA,GAAa,CACpB,MAAMC,EAAqB,OAAO,aAAa,QAAQ,qBAAqB,EACxE,KAAK,MAAM,OAAO,aAAa,QAAQ,qBAAqB,CAAC,EAC7D,KAEEC,EAAsB,SAAS,cAAc,qBAAqB,EACxEA,EAAoB,MAAQD,EACxBA,EAAmB,MACnB,GAEJ,MAAME,EAAwB,SAAS,cACrC,0BACJ,EACEA,EAAsB,MAAQF,EAC1BA,EAAmB,QACnB,EACN,CAEA,SAASG,GAAa,CACpB,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAASC,GAAS,CAC9C,GAAI,CAAC,CAAC,QAAS,SAAS,EAAE,SAASA,EAAM,OAAO,IAAI,EAClD,OAGF,MAAML,EAAqB,OAAO,aAAa,QAC7C,qBACD,EACG,KAAK,MAAM,OAAO,aAAa,QAAQ,qBAAqB,CAAC,EAC7D,KACEM,EAAgBN,EAAqBA,EAAmB,MAAQ,GAChEO,EAAkBP,EACpBA,EAAmB,QACnB,GAEJ,OAAO,aAAa,QAClB,sBACA,KAAK,UAAU,CACb,MACEK,EAAM,OAAO,MAAQ,QACjBA,EAAM,OAAO,MAAM,KAAM,EACzBC,EACN,QACED,EAAM,OAAO,MAAQ,UACjBA,EAAM,OAAO,MAAM,KAAM,EACzBE,CACd,CAAO,CACP,CACA,CAAG,EAEDH,EAAa,iBAAiB,SAAUC,GAAS,CAC/CA,EAAM,eAAc,EAEpB,QAASG,KAAqBH,EAAM,OAAO,SACzC,GAAK,CAAC,QAAS,SAAS,EAAE,SAASG,EAAkB,IAAI,GAIrD,CAACA,EAAkB,MAAM,KAAI,EAAG,OAAS,EAAG,CAC9C,MAAM,mCAAmC,EACzC,MACD,CAGH,QAAQ,IAAI,KAAK,MAAM,OAAO,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EAC1E,OAAO,aAAa,QACpBH,EAAM,OAAO,OACjB,CAAG,CACH,CAEAN,IACAI,EAAY"}